@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using ShopifySharp;
@using EcommerceSistemaVsShopify.Models;
@model ShopifySharp.Lists.ListResult<Product>;
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <div>
        <h4>Existencias Shopify</h4>
        <div class="row">
            <div class="col-md-4 col-sm-4 col-xl-12">
                <label for="cantidadElementos" class="text-info">Elementos Por Pagina:</label>
                <div>
                    <select class="form-select p-1" aria-label="CantidadElementosPorPagina">
                        <option selected>5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                        <option value="250">250</option>
                    </select>
                </div>
            </div>
          
            <div class="col-md-4 col-sm-4 col-xs-12">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12" style="margin-top:25px">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Id Producto</th>
                            <th scope="col">Codigo Producto</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">PLM</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Precio</th>

                        </tr>
                    </thead>
                    <tbody>
                        @if(Model.Items.Count() > 0)
                        {

                            @foreach(var product in Model.Items)
                            {
                                @foreach(var V in product.Variants)
                                {
                                    <tr>

                                        <td>@product.Id</td>
                                        <td>@V.Barcode</td>
                                        <td>@product.Title</td>
                                        <td>@V.SKU</td>
                                        <td>@V.InventoryQuantity</td>
                                        <td>@V.Price</td>
                                    </tr>

                                }
                            }
                            <tr>
                                <td>
                                    @if(Model.HasPreviousPage)
                                    {
                                        <a href="/ExistenciaShopify/GetList?page_info=@Model.LinkHeader.PreviousLink.PageInfo">
                                            Pagina Anterior
                                        </a>
                                    }
                                </td>
                                <td>
                                    @if(Model.HasNextPage)
                                    {
                                        <a href="/ExistenciaShopify/GetList?page_info=@Model.LinkHeader.NextLink.PageInfo">
                                            Pagina Siguiente
                                        </a>
                                    }
                                </td>
                            </tr>
                        }
                        else
                        {
                            <tr>
                                <td>
                                    <a class="text-danger">¡¡¡LO SENTIMOS NO SE ENCONTRARON DATOS!!!</a>
                                </td>
                            </tr>
                        }


                    </tbody>
                </table>

            </div>
        </div>

    </div>